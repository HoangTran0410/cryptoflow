import{r as s,j as e,ag as G,w as y,ah as O,f as Y}from"../vendor-u8cx4Mps.js";import{a as w}from"../index-DGMj3aU4.js";const m=48,_=600,$=({showHeader:S=!0,transactions:g})=>{const[a,C]=s.useState("date"),[o,v]=s.useState("desc"),[n,T]=s.useState(""),[i,F]=s.useState(""),[c,D]=s.useState(""),[d,k]=s.useState("gt"),[x,E]=s.useState(""),[u,L]=s.useState(""),[j,I]=s.useState(0),H=s.useRef(null),f=t=>{t===a?v(o==="asc"?"desc":"asc"):(C(t),v("desc"))},r=s.useMemo(()=>g.filter(t=>{if(n&&!t.from.toLowerCase().includes(n.toLowerCase())||i&&!t.to.toLowerCase().includes(i.toLowerCase()))return!1;if(c){const l=parseFloat(c);if(!isNaN(l)&&(d==="gt"&&t.amount<=l||d==="lt"&&t.amount>=l))return!1}if(x){const l=new Date(x);if(t.date<l)return!1}if(u){const l=new Date(u);if(l.setHours(23,59,59,999),t.date>l)return!1}return!0}).sort((t,l)=>{const p=t[a],b=l[a];return p===void 0?1:b===void 0?-1:p<b?o==="asc"?-1:1:p>b?o==="asc"?1:-1:0}),[g,a,o,n,i,c,d,x,u]),M=r.length*m,N=Math.max(0,Math.floor(j/m)-5),A=Math.min(r.length,Math.ceil((j+_)/m)+5),R=r.slice(N,A),V=N*m,h=({field:t})=>a!==t?e.jsx("div",{className:"w-4 h-4 opacity-0"}):o==="asc"?e.jsx(O,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"}),W=t=>{I(t.currentTarget.scrollTop)};return e.jsxs("div",{className:"flex flex-col h-full max-h-[calc(100vh-100px)] gap-4",children:[S&&e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20",children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Transactions"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Full history of all processed transactions"})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:"p-5 border-b border-slate-800 flex flex-col md:flex-row justify-between md:items-center gap-4 shrink-0",children:e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Total (",r.length.toLocaleString(),")"]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-950/50 text-slate-200 font-medium uppercase text-xs border-b border-slate-800 flex shrink-0 pr-4",children:[e.jsxs("div",{className:"flex-[2] px-4 py-3 border-r border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-white mb-2",onClick:()=>f("date"),children:["Date ",e.jsx(h,{field:"date"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{type:"date",value:x,onChange:t=>E(t.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded px-1 py-1 text-[10px] text-slate-300 focus:outline-none focus:border-indigo-500",placeholder:"Start"}),e.jsx("input",{type:"date",value:u,onChange:t=>L(t.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded px-1 py-1 text-[10px] text-slate-300 focus:outline-none focus:border-indigo-500",placeholder:"End"})]})]}),e.jsxs("div",{className:"flex-[2] px-4 py-3 border-r border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-white mb-2",onClick:()=>f("from"),children:["From ",e.jsx(h,{field:"from"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-2 top-1.5 w-3 h-3 text-slate-500"}),e.jsx("input",{type:"text",value:n,onChange:t=>T(t.target.value),placeholder:"Filter address...",className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 pl-6 text-xs text-slate-300 focus:outline-none focus:border-indigo-500"})]})]}),e.jsxs("div",{className:"flex-[2] px-4 py-3 border-r border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-white mb-2",onClick:()=>f("to"),children:["To ",e.jsx(h,{field:"to"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-2 top-1.5 w-3 h-3 text-slate-500"}),e.jsx("input",{type:"text",value:i,onChange:t=>F(t.target.value),placeholder:"Filter address...",className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 pl-6 text-xs text-slate-300 focus:outline-none focus:border-indigo-500"})]})]}),e.jsxs("div",{className:"flex-1 px-4 py-3 border-r border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center justify-end gap-1 cursor-pointer hover:text-white mb-2",onClick:()=>f("amount"),children:["Amount ",e.jsx(h,{field:"amount"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("select",{value:d,onChange:t=>k(t.target.value),className:"bg-slate-900 border border-slate-700 rounded px-1 py-1 text-[10px] text-slate-300 focus:outline-none focus:border-indigo-500",children:[e.jsx("option",{value:"gt",children:">"}),e.jsx("option",{value:"lt",children:"<"})]}),e.jsx("input",{type:"number",value:c,onChange:t=>D(t.target.value),placeholder:"Value...",className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-slate-300 focus:outline-none focus:border-indigo-500 text-right"})]})]}),e.jsx("div",{className:"flex-1 px-4 py-3 text-right flex items-center justify-end",children:"Currency"})]}),e.jsxs("div",{ref:H,className:"overflow-y-auto flex-1 custom-scrollbar relative",onScroll:W,children:[e.jsx("div",{style:{height:M,position:"relative"},children:e.jsx("div",{style:{transform:`translateY(${V}px)`},children:R.map(t=>e.jsxs("div",{className:"flex border-b border-slate-800/30 hover:bg-slate-800/30 transition-colors h-[48px] items-center text-sm",children:[e.jsx("div",{className:"flex-[2] px-4 whitespace-nowrap text-slate-300",children:t.date.toLocaleString()}),e.jsx("div",{className:"flex-[2] px-4 truncate",title:t.from,children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-mono bg-slate-800 border border-slate-700 text-slate-300 copyable","data-copy":t.from,children:w(t.from)})}),e.jsx("div",{className:"flex-[2] px-4 truncate",title:t.to,children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-mono bg-slate-800 border border-slate-700 text-slate-300 copyable","data-copy":t.to,children:w(t.to)})}),e.jsx("div",{className:"flex-1 px-4 text-right font-medium text-emerald-400",children:t.amount.toLocaleString()}),e.jsx("div",{className:"flex-1 px-4 text-right text-slate-500",children:t.currency})]},t.id))})}),r.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-500",children:"No transactions found matching your filter."})]})]}),e.jsxs("div",{className:"p-3 text-center text-xs text-slate-500 border-t border-slate-800 shrink-0 bg-slate-900",children:["Showing ",r.length.toLocaleString()," transactions"]})]})]})};export{$ as default};
