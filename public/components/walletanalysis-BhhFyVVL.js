const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./transactiontable-CTGP1dwp.js","../vendor-Cs9IRPBE.js","../index-KZY9J4_4.js","../index-Bs_JqdHU.css"])))=>i.map(i=>d[i]);
import{h as K,i as R,j as V,k as H,_ as Q,L as X}from"../index-KZY9J4_4.js";import{r as l,j as e,S as Y,ag as T,s as U,_ as q,R as S,A as J,C as A,X as k,Y as D,T as O,ap as I,a as L,B as Z,b as W,a2 as ee,a8 as se,n as te}from"../vendor-Cs9IRPBE.js";const ae=te(()=>Q(()=>import("./transactiontable-CTGP1dwp.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),{fallback:X}),re=({transactions:r,initialAddress:b=""})=>{const[t,N]=l.useState(b),[p,_]=l.useState("daily"),[m,B]=l.useState("all"),[u,M]=l.useState(""),[h,z]=l.useState(""),[w,E]=l.useState(!1),[c,F]=l.useState(""),[f,y]=l.useState(""),x=l.useMemo(()=>K(r),[r]);l.useEffect(()=>{!t&&x.length>0&&N(b||x[0])},[x,b,t]);const n=l.useMemo(()=>t?R(r,t):null,[r,t]),g=l.useMemo(()=>t?V(r,t,p):[],[r,t,p]),G=l.useMemo(()=>t?g:[],[g]),C=l.useMemo(()=>r.filter(a=>!(!(a.from===t||a.to===t)||m==="inbound"&&a.to!==t||m==="outbound"&&a.from!==t||u&&a.date<new Date(u)||h&&a.date>new Date(h))),[r,t,m,u,h]),o=l.useMemo(()=>{if(!w||!c||!t)return null;try{return H(r,c,t)}catch{return null}},[r,c,t,w]),d=s=>`$${s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,P=({active:s,payload:a,label:j})=>s&&a&&a.length?e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-xl",children:[e.jsx("p",{className:"text-slate-300 font-medium mb-2",children:j}),a.map((i,v)=>e.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm",children:[e.jsxs("span",{style:{color:i.color},children:[i.name,":"]}),e.jsx("span",{className:"font-semibold text-white",children:d(i.value)})]},v))]}):null,$=({active:s,payload:a,label:j})=>s&&a&&a.length?e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-xl",children:[e.jsx("p",{className:"text-slate-300 font-medium mb-2",children:j}),a.map((i,v)=>e.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm",children:[e.jsxs("span",{style:{color:i.color},children:[i.name,":"]}),e.jsxs("span",{className:"font-semibold text-white",children:[i.value," transaction",i.value!==1?"s":""]})]},v))]}):null;return n?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Wallet Analysis"}),e.jsx("p",{className:"text-slate-400",children:"Deep dive into individual wallet behavior and transaction patterns"})]})}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Select Wallet Address"}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",value:f,onChange:s=>{y(s.target.value)},placeholder:"Search or paste wallet address...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),f&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[x.filter(s=>s.toLowerCase().includes(f.toLowerCase())).slice(0,10).map(s=>e.jsx("button",{onClick:()=>{N(s),y("")},className:"w-full text-left px-4 py-2.5 hover:bg-slate-700 text-sm font-mono text-slate-300 hover:text-white transition-colors border-b border-slate-700/50 last:border-b-0",children:s},s)),x.filter(s=>s.toLowerCase().includes(f.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-2.5 text-sm text-slate-500",children:"No matching addresses found"})]})]})})}),t&&e.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Selected:"," ",e.jsx("span",{className:"font-mono text-slate-400 copyable","data-copy":t,children:t})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-green-400 rotate-180"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Total Inflow"}),e.jsx("div",{className:"text-xl font-bold text-white",children:d(n.totalInflow)})]})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:[n.inflowCount," transactions"]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Total Outflow"}),e.jsx("div",{className:"text-xl font-bold text-white",children:d(n.totalOutflow)})]})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:[n.outflowCount," transactions"]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-10 h-10 ${n.netBalance>=0?"bg-green-500/10":"bg-red-500/10"} rounded-lg flex items-center justify-center`,children:e.jsx(U,{className:`w-5 h-5 ${n.netBalance>=0?"text-green-400":"text-red-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Net Balance"}),e.jsx("div",{className:`text-xl font-bold ${n.netBalance>=0?"text-green-400":"text-red-400"}`,children:d(Math.abs(n.netBalance))})]})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:[n.totalTxCount," total transactions"]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-indigo-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Peak Activity"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[n.peakActivityHour,":00"]})]})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Activity Score: ",n.activityScore.toFixed(1),"/100"]})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction Analytics"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:p,onChange:s=>_(s.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Transaction Volume Over Time"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(J,{data:g,syncId:"walletAnalytics",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"inflowGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"outflowGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),e.jsx(A,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(k,{dataKey:"date",stroke:"#94a3b8",fontSize:12}),e.jsx(D,{stroke:"#94a3b8",fontSize:12}),e.jsx(O,{content:e.jsx(P,{})}),e.jsx(I,{}),e.jsx(L,{type:"monotone",dataKey:"inflow",stroke:"#10b981",fill:"url(#inflowGradient)",name:"Inflow"}),e.jsx(L,{type:"monotone",dataKey:"outflow",stroke:"#ef4444",fill:"url(#outflowGradient)",name:"Outflow"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-3",children:"Transaction Count"}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(Z,{data:G,syncId:"walletAnalytics",children:[e.jsx(A,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(k,{dataKey:"date",stroke:"#94a3b8",fontSize:12}),e.jsx(D,{stroke:"#94a3b8",fontSize:12}),e.jsx(O,{content:e.jsx($,{})}),e.jsx(I,{}),e.jsx(W,{dataKey:"inflowCount",fill:"#10b981",name:"Inbound"}),e.jsx(W,{dataKey:"outflowCount",fill:"#ef4444",name:"Outbound"})]})})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ee,{className:"w-5 h-5 text-indigo-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Top Counterparties"})]}),e.jsx("div",{className:"space-y-3",children:n.topCounterparties.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-3 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-500/10 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:["#",a+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-mono text-sm text-slate-300 truncate copyable","data-copy":s.address,children:s.address}),e.jsxs("div",{className:"text-xs text-slate-500",children:[s.count," transactions"]})]})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsx("div",{className:"text-sm font-semibold text-white",children:d(s.volume)})})]},s.address))})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(se,{className:"w-5 h-5 text-purple-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Taint Check"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Analyze if this wallet has received tainted funds from a specific source address"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:c,onChange:s=>F(s.target.value),placeholder:"Enter source address to check taint...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>E(!0),disabled:!c,className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Analyze"})]}),o&&e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-slate-300",children:"Taint Percentage:"}),e.jsxs("span",{className:`text-xl font-bold ${o.taintPercentage>50?"text-red-400":o.taintPercentage>10?"text-yellow-400":"text-green-400"}`,children:[o.taintPercentage.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-slate-300",children:"Total Tainted Amount:"}),e.jsx("span",{className:"text-white font-semibold",children:d(o.totalTainted)})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[o.paths.length," taint path(s) found"]})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction History"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:m,onChange:s=>B(s.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Transactions"}),e.jsx("option",{value:"inbound",children:"Inbound Only"}),e.jsx("option",{value:"outbound",children:"Outbound Only"})]}),e.jsx("input",{type:"date",value:u,onChange:s=>M(s.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("input",{type:"date",value:h,onChange:s=>z(s.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"text-sm text-slate-400 mb-4",children:["Showing ",C.length," transactions"]}),e.jsx("div",{className:"h-[600px]",children:e.jsx(ae,{transactions:C,showHeader:!1})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-slate-400",children:"Loading wallet data..."})})};export{re as default};
